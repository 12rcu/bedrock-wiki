import{o as n,c as s,d as a}from"./404.md.8090583e.js";const e='{"title":"Feature Types","description":"","frontmatter":{"title":"Feature Types"},"headers":[{"level":2,"title":"Proxy Features","slug":"proxy-features"},{"level":3,"title":"Scatter Features","slug":"scatter-features"}],"relativePath":"world-generation/feature-types.md","lastUpdated":1623847669687}',t={},o=a('<h1 id="feature-types"><a class="header-anchor" href="#feature-types" aria-hidden="true">#</a> Feature Types</h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Some links designed to reference external documents do not function, and will be updated at a later time to point to the correct resource.</p><p>Screenshots, graphics, and potentially example packs will be provided for many feature types given here at a later time.</p></div><h2 id="proxy-features"><a class="header-anchor" href="#proxy-features" aria-hidden="true">#</a> Proxy Features</h2><p>Proxy features group, arrange, or gate features, including other proxy features. Proxy features themselves are incapable of having a direct effect on world generation.</p><h3 id="scatter-features"><a class="header-anchor" href="#scatter-features" aria-hidden="true">#</a> Scatter Features</h3><div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>\n\t<span class="token property">&quot;format_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.13.0&quot;</span><span class="token punctuation">,</span>\n\n\t<span class="token property">&quot;minecraft:scatter_feature&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t\t<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t\t\t<span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;arboreal:flower_patch&quot;</span>\n\t\t<span class="token punctuation">}</span><span class="token punctuation">,</span>\n\n\t\t<span class="token property">&quot;places_feature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;arboreal:flowers&quot;</span><span class="token punctuation">,</span>\n\n\t\t<span class="token property">&quot;scatter_chance&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t\t\t<span class="token property">&quot;numerator&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n\t\t\t<span class="token property">&quot;denominator&quot;</span><span class="token operator">:</span> <span class="token number">3</span>\n\t\t<span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t\t<span class="token property">&quot;iterations&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v.flower_patch.size = math.random_integer(6, 14); return math.random_integer(math.pow(v.flower_patch.size, 2) / 4, math.pow(v.flower_patch.size, 2) / 3);&quot;</span><span class="token punctuation">,</span>\n\n\t\t<span class="token property">&quot;project_input_to_floor&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n\t\t<span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t\t\t<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gaussian&quot;</span><span class="token punctuation">,</span>\n\t\t\t<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;v.flower_patch.size&quot;</span><span class="token punctuation">]</span>\n\t\t<span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t\t<span class="token property">&quot;z&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t\t\t<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gaussian&quot;</span><span class="token punctuation">,</span>\n\t\t\t<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;v.flower_patch.size&quot;</span><span class="token punctuation">]</span>\n\t\t<span class="token punctuation">}</span><span class="token punctuation">,</span>\n\t\t<span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><strong>Scatter features</strong> are the most flexible and useful feature type available. Scatter features can:</p><ul><li>Distribute or reposition a feature any number of times within a <a href="#">chunk’s feature domain</a></li><li>Act as a gate to conditionally enable a feature to be placed</li><li>Execute MoLang within the current <a href="#">feature context</a></li></ul><p>Scatter features attempt to place a <strong>target feature</strong> with each iteration:</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;places_feature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lostlands:shimmerfields_spire&quot;</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>If, where, and how an instance of the target is placed depend on the <a href="#generation-potential">generation potential</a>, <a href="#distribution">distribution</a>, and the <a href="#evaluation-order">evaluation order</a></p><h4 id="generation-potential"><a class="header-anchor" href="#generation-potential" aria-hidden="true">#</a> Generation Potential</h4><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;scatter_chance&quot;</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>\n<span class="token property">&quot;iterations&quot;</span><span class="token operator">:</span> <span class="token number">12</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>A scatter feature will determine placement attempts of its target using the <code>&quot;scatter_chance&quot;</code> and <code>&quot;iterations&quot;</code> properties.</p><p><strong>Scatter chance</strong> represents the potential for the scatter feature to succeed. It can be represented as…</p><p>A numeric literal:</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;scatter_chance&quot;</span><span class="token operator">:</span> <span class="token number">12.5</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>The numeric literal form is considered against 100, not 1. A scatter chance of <code>50</code>, therefore, has half a chance of success.</p></div><p>A MoLang expression:</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;scatter_chance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1 / 8&quot;</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>A fraction object:</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;scatter_chance&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t<span class="token property">&quot;numerator&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n\t<span class="token property">&quot;denominator&quot;</span><span class="token operator">:</span> <span class="token number">8</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>All 3 examples have a 12.5% chance for success. Use whichever form feels most appropriate for your case. If scatter chance is omitted, it defaults to a 100% chance for the scatter feature to attempt to place its target.</p><p><strong>Iterations</strong> are the number of attempts a scatter feature will try to place its target. If an instance of a scatter feature would succeed (in other words, if its scatter chance check were successful), <em>all</em> of the iterations given by <code>&quot;iterations&quot;</code> will be attempted. Iterations may be represented as integer literals or MoLang expressions. Unlike scatter chance, iterations are required.</p><h4 id="distribution"><a class="header-anchor" href="#distribution" aria-hidden="true">#</a> Distribution</h4><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fixed_grid&quot;</span><span class="token punctuation">,</span>\n\t<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token property">&quot;z&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fixed_grid&quot;</span><span class="token punctuation">,</span>\n\t<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Distribution is predominantly handled using <strong>coordinate properties</strong>: <code>&quot;x&quot;</code>, <code>&quot;z&quot;</code>, and <code>&quot;y&quot;</code>. All these properties may be represented using…</p><p>An integer literal:</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">0</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>A MoLang Expression:</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token string">&quot;math.random_integer(0, v.surface_grass.spread - 1)&quot;</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Or a number of object forms for conveniently distributing a coordinate:</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uniform&quot;</span><span class="token punctuation">,</span>\n\t<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Literals and MoLang expressions are relative to the <a href="#">feature origin</a>. See <a href="#distribution-types">Distribution Types</a> for the available pre-constructed distribution systems.</p><p>Because placement of features is so often relative to the heightmap, the incoming <em>y</em>-origin for the scatter feature may be <strong>projected into the heightmap</strong>:</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;project_input_to_floor&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This means that the specified <em>y</em>-origin from the scatter feature’s parent is ignored in favor of the <em>y</em>-coordinate of the heightmap at an iteration’s <em>x</em>-<em>z</em> location (<a href="#evaluation-order">assuming the <em>y</em>-coordinate would be evaluated after the lateral coordinates</a>). The <code>&quot;y&quot;</code> property may still be given a value that will represent the offset from the heightmap.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Functionally, this is the same as using the MoLang expression <code>&quot;query.heightmap(v.worldx, v.worldz) + *offset*&quot;</code>.</p></div><h5 id="distribution-types"><a class="header-anchor" href="#distribution-types" aria-hidden="true">#</a> Distribution Types</h5><p>Custom distribution systems can be constructed using MoLang expressions, but scatter features come pre-equipped with a few common <strong>distribution types</strong> for convenient authoring:</p><ul><li>Uniform</li><li>Gaussian</li><li>Inverse Gaussian</li><li>Fixed grid</li><li>Jittered grid</li></ul><p>Each distribution type requires an <strong>extent</strong>, which represents the range of values on which that distribution operates, from minimum to maximum. Extents, like the basic forms of coordinate declarations, are relative to the <a href="#">feature origin</a>.</p><h6 id="uniform-distribution"><a class="header-anchor" href="#uniform-distribution" aria-hidden="true">#</a> Uniform Distribution</h6><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;z&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uniform&quot;</span><span class="token punctuation">,</span>\n\t<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;v.boulder_spread.start&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;v.boulder_spread.end&quot;</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Uniform distribution</strong> is uniformly random distribution on a half-open interval between two values. It is known as “uniform” because every value within the range has an equal chance of being selected and “half-open” because the extent minimum is a member of the range, while the extent maximum is not:</p><p>extent_{min} &lt;= x &lt; extent_{max}</p><p>Therefore, if an extent of <code>[0, 16]</code> were given for a uniform distribution, blocks may be placed in a range of size 16: from 0 to 15. The 1st possible position starts at 0 while the 15th possible position ends at 16, matching the extent.</p><h6 id="gaussian-distributions"><a class="header-anchor" href="#gaussian-distributions" aria-hidden="true">#</a> Gaussian Distributions</h6><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gaussian&quot;</span><span class="token punctuation">,</span>\n\t<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;2 * v.vine_cluster.radius&quot;</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Gaussian distribution</strong> (<code>&quot;gaussian&quot;</code>) and its <strong>inverse</strong> (<code>&quot;inverse_gaussian&quot;</code>) are useful for grouping features together: toward or away from the center of the extent respectively. Gaussian distribution is so extreme that values will almost never be selected away from the center with normal Gaussian distribution or toward the center with inverse Gaussian distribution. The extents for Gaussian distribution behave the as with <a href="#uniform-distribution">uniform distribution</a>.</p><h6 id="grid-distributions"><a class="header-anchor" href="#grid-distributions" aria-hidden="true">#</a> Grid Distributions</h6><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jittered_grid&quot;</span><span class="token punctuation">,</span>\n\t<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n\t<span class="token property">&quot;step_size&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n\t<span class="token property">&quot;grid_offset&quot;</span><span class="token operator">:</span> <span class="token number">4</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>Grid distributions</strong> are powerful systems for placing blocks either directly on (<code>&quot;fixed_grid&quot;</code>) or randomly within (<code>&quot;jittered_grid&quot;</code>) evenly spaced intervals along a coordinate. Unlike the other distribution types, the extent of grids forms an interval that includes the maximum extent:</p><p>extent_{min} &lt;= x &lt;= extent_{max}</p><p>Two grid distribution-only properties are available for finer control over the grids used by these systems. The interval size, which defaults to 1, can be customized with the <code>&quot;step_size&quot;</code> property. An initial offset, defaulting to 0, can also be provided via the <code>&quot;grid_offset&quot;</code> property.</p><p>If the iteration count in conjunction with the step size and offset would push a coordinate beyond the maximum extent, the coordinate will be wrapped back to the minimum extent and continue from there.</p><p>While grids are useful on a coordinate independently, their true power shows when in combination with grid distributions on other coordinates. Placements prioritize incrementing the earliest evaluated grid system before later systems; the later layouts are only considered when wrapping occurs in the previous grid system. When a placement in an earlier evaluated coordinate would wrap, the next evaluated grid-powered coordinate will be offset by the number of wraps that occurred.</p><p>As a simple example:</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;iterations&quot;</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span>\n\n<span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fixed_grid&quot;</span><span class="token punctuation">,</span>\n\t<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token property">&quot;z&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n\t<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fixed_grid&quot;</span><span class="token punctuation">,</span>\n\t<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Placements will first begin along <em>x</em>: (0, 0), (1, 0), etc., until reaching the end of the extent at (15, 0). However, only 16 of the 21 iterations have occurred; 5 remain. Now, the <em>x</em>-coordinate wraps back around to 0, while the <em>z</em>-coordinate increments to 1: (0, 1).</p><p>This wrapping occurs in three-dimensions, too, so when a plane along the earliest evaluated coordinates would wrap (assuming a high enough iteration count), another plane will begin formation based on the final coordinate’s step size.</p><h4 id="evaluation-order"><a class="header-anchor" href="#evaluation-order" aria-hidden="true">#</a> Evaluation Order</h4><p>When a scatter chance is included, it is evaluated before any other properties. If the check against scatter chance fails for that instance of the scatter feature, nothing downstream within that instance is evaluated. No further MoLang is interpreted; no variables within the <a href="#">feature context</a> are updated. The target feature is entirely disregarded.</p><p>Next, the iteration count is evaluated. Similarly to scatter chance, if the iteration count were not to resolve to a positive number of placement attempts, nothing further is evaluated.</p><p>Next, every iteration is attempted regardless of whether an early iteration would for some reason fail. For each iteration, each coordinate is evaluated using the same ordering across all iterations.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>The order of coordinate evaluation is <em>not</em> dependent upon the order the coordinate properties are declared in JSON.</p></div><p>By default, the coordinate ordering is <em>x</em> then <em>z</em> then <em>y</em>. This covers the majority of use-cases: if the coordinates aren’t independent, more than likely the vertical position depends on the lateral coordinates. However, scatter features may declare an atypical <strong>coordinate evaluation order</strong> for full control over coordinate dependence:</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;coordinate_eval_order&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zyx&quot;</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>After the coordinates for an iteration have been determined, world generation moves its focus within the target: acknowledging its restrictions, attempting its placement, evaluating its MoLang, and (if possible and relevant) continuing by placing its children and their children and so forth.</p><p>When finished with the target’s feature tree, if more iterations have yet to be run from the scatter feature, focus returns to the scatter feature beginning with the first-evaluated coordinate and execution is resumed.</p>',70);t.render=function(a,e,t,p,r,i){return n(),s("div",null,[o])};export default t;export{e as __pageData};
